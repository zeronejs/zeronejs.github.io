"use strict";(self.webpackChunkzerone_docs=self.webpackChunkzerone_docs||[]).push([[582],{9874:(s,a,n)=>{n.r(a),n.d(a,{data:()=>e});const e={key:"v-029ba47b",path:"/zh/guide/assets.html",title:"静态资源",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"相对路径",slug:"相对路径",children:[]},{level:2,title:"Public 文件",slug:"public-文件",children:[{level:3,title:"Base Helper",slug:"base-helper",children:[]}]},{level:2,title:"依赖包和路径别名",slug:"依赖包和路径别名",children:[]}],filePathRelative:"zh/guide/assets.md",git:{updatedTime:1635391738e3,contributors:[{name:"“张智皓”",email:"zhang948498@163.com",commits:1}]}}},8540:(s,a,n)=>{n.r(a),n.d(a,{default:()=>M});var e=n(6252);const p=(0,e.uE)('<h1 id="静态资源" tabindex="-1"><a class="header-anchor" href="#静态资源" aria-hidden="true">#</a> 静态资源</h1><h2 id="相对路径" tabindex="-1"><a class="header-anchor" href="#相对路径" aria-hidden="true">#</a> 相对路径</h2><p>你可以在你的 Markdown 内容中使用相对路径来引用静态资源：</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token url"><span class="token operator">!</span>[<span class="token content">图片</span>](<span class="token url">./image.png</span>)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>一般情况下，我们推荐你使用这种方式来引用图片，因为人们通常会把图片放在引用它的 Markdown 文件附近。</p><h2 id="public-文件" tabindex="-1"><a class="header-anchor" href="#public-文件" aria-hidden="true">#</a> Public 文件</h2><p>你可以把一些静态资源放在 Public 目录中，它们会被复制到最终生成的网站的根目录下。</p><p>默认的 Public 目录是 <code>.vuepress/public</code> ，可以通过配置来修改。</p><p>在下列这些情况中，你可能会用到它：</p><ul><li>你可能需要提供一些静态资源，但是它们并不直接被你的 Markdown 文件引用，比如 favicon 和 PWA 图标。</li><li>你可能想要托管一些共享的静态资源，甚至可能需要在你的网站外部引用它，比如 Logo 图片。</li><li>你可能想在你的 Markdown 内容中通过绝对路径来引入图片。</li></ul><p>以我们文档的源文件为例，我们把 VuePress 的 Logo 放在了 Public 目录下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>└─ docs\n   ├─ .vuepress\n   <span class="token operator">|</span>  └─ public\n   <span class="token operator">|</span>     └─ images\n   <span class="token operator">|</span>        └─ hero.png  <span class="token comment"># &lt;- Logo 文件</span>\n   └─ guide\n      └─ assets.md       <span class="token comment"># &lt;- 我们在这里</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>我们可以这样在当前页面引用 Logo ：</p><p><strong>Input</strong></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token url"><span class="token operator">!</span>[<span class="token content">VuePress Logo</span>](<span class="token url">/images/hero.png</span>)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>Output</strong></p><p><img src="/images/hero.png" alt="VuePress Logo"></p>',17),l={class:"custom-container tip"},t=(0,e._)("p",{class:"custom-container-title"},"提示",-1),o=(0,e.Uk)("配置参考： "),c=(0,e.Uk)("public"),r=(0,e._)("h3",{id:"base-helper",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#base-helper","aria-hidden":"true"},"#"),(0,e.Uk)(" Base Helper")],-1),i=(0,e.Uk)("如果你的网站部署在非根路径下，即 "),u=(0,e.Uk)("base"),d=(0,e.Uk)(" 不是 "),m=(0,e._)("code",null,'"/"',-1),b=(0,e.Uk)(" ，你需要把 "),k=(0,e._)("code",null,"base",-1),g=(0,e.Uk)(" 添加到 Public 文件的绝对路径前。"),h=(0,e.uE)('<p>举例来说，如果你想要把网站部署到 <code>https://foo.github.io/bar/</code> ，那么应该把 <code>base</code> 设置为 <code>&quot;/bar/&quot;</code> ，此时你必须在 Markdown 文件中这样引用 Public 文件：</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token url"><span class="token operator">!</span>[<span class="token content">VuePress Logo</span>](<span class="token url">/bar/images/hero.png</span>)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>显然，一旦某一天你修改了 <code>base</code>，这样的路径引用将会显得异常脆弱。这也是我们推荐你使用相对路径来引用静态文件的原因。</p><p>为了解决这个问题，VuePress 提供了内置的一个 Helper <code>$withBase</code> ，它可以帮助你生成正确的路径：</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$withBase(<span class="token punctuation">&#39;</span>/images/hero.png<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>VuePress Logo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>在 Markdown 中使用这个 Helper 会显得有些冗长，因此它可能对主题和插件作者更有帮助。</p>',6),v={class:"custom-container tip"},f=(0,e._)("p",{class:"custom-container-title"},"提示",-1),w=(0,e.Uk)("配置参考： "),_=(0,e.Uk)("base"),x=(0,e.uE)('<h2 id="依赖包和路径别名" tabindex="-1"><a class="header-anchor" href="#依赖包和路径别名" aria-hidden="true">#</a> 依赖包和路径别名</h2><p>尽管这不是常见用法，但是你可以从依赖包中引用图片：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D package-name\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token url"><span class="token operator">!</span>[<span class="token content">来自依赖包的图片</span>](<span class="token url">package-name/image.png</span>)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>在配置文件中设置的路径别名也同样支持：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  alias<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string">&#39;@alias&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./path/to/some/dir&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token url"><span class="token operator">!</span>[<span class="token content">来自路径别名的图片</span>](<span class="token url">@alias/image.png</span>)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',7),P={class:"custom-container tip"},U=(0,e._)("p",{class:"custom-container-title"},"提示",-1),z=(0,e.Uk)("配置参考： "),L=(0,e.Uk)("alias"),q={},M=(0,n(3744).Z)(q,[["render",function(s,a){const n=(0,e.up)("RouterLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[p,(0,e._)("div",l,[t,(0,e._)("p",null,[o,(0,e.Wm)(n,{to:"/zh/reference/config.html#public"},{default:(0,e.w5)((()=>[c])),_:1})])]),r,(0,e._)("p",null,[i,(0,e.Wm)(n,{to:"/zh/reference/config.html#base"},{default:(0,e.w5)((()=>[u])),_:1}),d,m,b,k,g]),h,(0,e._)("div",v,[f,(0,e._)("p",null,[w,(0,e.Wm)(n,{to:"/zh/reference/config.html#base"},{default:(0,e.w5)((()=>[_])),_:1})])]),x,(0,e._)("div",P,[U,(0,e._)("p",null,[z,(0,e.Wm)(n,{to:"/zh/reference/config.html#alias"},{default:(0,e.w5)((()=>[L])),_:1})])])],64)}]])},3744:(s,a)=>{a.Z=(s,a)=>{for(const[n,e]of a)s[n]=e;return s}}}]);