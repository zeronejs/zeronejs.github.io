"use strict";(self.webpackChunkzerone_docs=self.webpackChunkzerone_docs||[]).push([[369],{4673:(s,a,n)=>{n.r(a),n.d(a,{data:()=>l});const l={key:"v-fcec7b84",path:"/zh/techniques/alipay-sdk.html",title:"支付宝sdk",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"安装",slug:"安装",children:[]},{level:2,title:"配置",slug:"配置",children:[{level:3,title:"必填参数",slug:"必填参数",children:[]},{level:3,title:"可选参数",slug:"可选参数",children:[]}]},{level:2,title:"使用",slug:"使用",children:[{level:3,title:"exec(method, params, options)",slug:"exec-method-params-options",children:[]},{level:3,title:"checkNotifySign(postData)",slug:"checknotifysign-postdata",children:[]}]},{level:2,title:"Demo",slug:"demo",children:[{level:3,title:"包含业务参数",slug:"包含业务参数",children:[]},{level:3,title:"不包含业务参数",slug:"不包含业务参数",children:[]}]}],filePathRelative:"zh/techniques/alipay-sdk.md",git:{updatedTime:1638777279e3,contributors:[{name:"“张智皓”",email:"zhang948498@163.com",commits:1}]}}},6572:(s,a,n)=>{n.r(a),n.d(a,{default:()=>T});var l=n(6252);const e=(0,l._)("h1",{id:"支付宝sdk",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#支付宝sdk","aria-hidden":"true"},"#"),(0,l.Uk)(" 支付宝sdk")],-1),p=(0,l.Uk)("第一次使用，请先在 设置 > 开发设置 > 接口加签方式 配置"),o={href:"https://miniu.alipay.com/keytool/create",target:"_blank",rel:"noopener noreferrer"},t=(0,l.Uk)("生成的公钥"),r=(0,l.Uk)("，注意选择"),c=(0,l._)("code",null,"其他（PKCS1）",-1),D=(0,l._)("div",{class:"custom-container danger"},[(0,l._)("p",{class:"custom-container-title"},"警告"),(0,l._)("p",null,"不要公开暴露示例中的密钥（secret）。我们在这里这样做是为了向您明确代码在做什么，但在生产环境中，您必须使用适当的措施来保护此密钥， 例如秘钥库、环境变量或配置服务。")],-1),i=(0,l._)("h2",{id:"安装",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),(0,l.Uk)(" 安装")],-1),d=(0,l._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,l._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,l._)("code",null,[(0,l._)("span",{class:"line"},[(0,l._)("span",{style:{color:"#D4D4D4"}},"yarn add @zeronejs/alipay-sdk")]),(0,l.Uk)("\n"),(0,l._)("span",{class:"line"})])]),(0,l._)("div",{class:"line-numbers"},[(0,l._)("span",{class:"line-number"},"1"),(0,l._)("br")])],-1),y=(0,l._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,l._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,l._)("code",null,[(0,l._)("span",{class:"line"},[(0,l._)("span",{style:{color:"#D4D4D4"}},"npm install @zeronejs/alipay-sdk")]),(0,l.Uk)("\n"),(0,l._)("span",{class:"line"})])]),(0,l._)("div",{class:"line-numbers"},[(0,l._)("span",{class:"line-number"},"1"),(0,l._)("br")])],-1),h=(0,l.uE)('<h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><p>在根模块输入<code>AlipayModule</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">AlipayModule</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;@zeronejs/alipay-sdk&#39;</span><span style="color:#D4D4D4;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#DCDCAA;">Module</span><span style="color:#D4D4D4;">({</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ...</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">imports</span><span style="color:#D4D4D4;">: [</span></span>\n<span class="line"><span style="color:#D4D4D4;">        ...,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">AlipayModule</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">forRoot</span><span style="color:#D4D4D4;">({</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">appId:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;xxxxxxxxxxx&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">privateKey:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">fs</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">readFileSync</span><span style="color:#D4D4D4;">(</span><span style="color:#DCDCAA;">join</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">__dirname</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&#39;./privateKey.txt&#39;</span><span style="color:#D4D4D4;">), </span><span style="color:#CE9178;">&#39;ascii&#39;</span><span style="color:#D4D4D4;">), </span><span style="color:#6A9955;">//自行配置位置 </span></span>\n<span class="line"><span style="color:#D4D4D4;">        }),</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ...</span></span>\n<span class="line"><span style="color:#D4D4D4;">})</span></span>\n<span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">appModule</span><span style="color:#D4D4D4;"> {}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="必填参数" tabindex="-1"><a class="header-anchor" href="#必填参数" aria-hidden="true">#</a> 必填参数</h3><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>appId</td><td>String</td><td>开放平台上创建应用时生成的 appId</td></tr><tr><td>privateKey</td><td>String</td><td>应用私钥字符串</td></tr></tbody></table><h3 id="可选参数" tabindex="-1"><a class="header-anchor" href="#可选参数" aria-hidden="true">#</a> 可选参数</h3><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>-</td><td>实例名称，在你需要配置多个appId时使用</td></tr><tr><td>signType</td><td>String</td><td>RSA2</td><td>签名算法，不建议修改</td></tr><tr><td>alipayPublicKey</td><td>String</td><td>-</td><td>支付宝公钥，需要对结果验签时候必填</td></tr><tr><td>gateway</td><td>String</td><td>https://openapi.alipay.com/gateway.do</td><td>支付宝网关地址 ，沙箱环境下使用时需要修改</td></tr><tr><td>timeout</td><td>Number</td><td>5000</td><td>网关超时时间，单位毫秒</td></tr><tr><td>camelcase</td><td>Boolean</td><td>true</td><td>是否把网关返回数据中的的下划线 key 转换为驼峰写法</td></tr></tbody></table><div class="custom-container tip"><p class="custom-container-title">提示</p><p>你可以配置多个appId</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#9CDCFE;">AlipayModule</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">forRoot</span><span style="color:#D4D4D4;">([</span></span>\n<span class="line"><span style="color:#D4D4D4;">    {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">name:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;app1&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">appId:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;xxxxxxxxxxx1&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">privateKey:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;xxxxxxxxxxxxxxxxxx&#39;</span><span style="color:#D4D4D4;">, </span></span>\n<span class="line"><span style="color:#D4D4D4;">    },</span></span>\n<span class="line"><span style="color:#D4D4D4;">    {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">name:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;app2&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">appId:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;xxxxxxxxxxx2&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">privateKey:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;xxxxxxxxxxxxxxxxxx&#39;</span><span style="color:#D4D4D4;">, </span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">])</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h2><p>获取<code>alipay</code>实例，并调用sdk提供的方法</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">AlipayService</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;@zeronejs/alipay-sdk&#39;</span><span style="color:#D4D4D4;">;</span></span>\n<span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#DCDCAA;">Controller</span><span style="color:#D4D4D4;">()</span></span>\n<span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">AlipayController</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">constructor</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">private</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">readonly</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">alipayService</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">AlipayService</span><span style="color:#D4D4D4;">) {}</span></span>\n<span class="line"><span style="color:#D4D4D4;">    @</span><span style="color:#DCDCAA;">Post</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;demo&#39;</span><span style="color:#D4D4D4;">)</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">async</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">demo</span><span style="color:#D4D4D4;">(@</span><span style="color:#DCDCAA;">Body</span><span style="color:#D4D4D4;">() </span><span style="color:#9CDCFE;">body</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">any</span><span style="color:#D4D4D4;">) {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#6A9955;">// 获取 alipay 实例</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">alipay</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">alipayService</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getInstance</span><span style="color:#D4D4D4;">();</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">result</span><span style="color:#D4D4D4;"> = </span><span style="color:#C586C0;">await</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">alipay</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">exec</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;alipay.system.oauth.token&#39;</span><span style="color:#D4D4D4;">, {</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">grantType:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;authorization_code&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">code:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">body</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">code</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        });</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">result</span><span style="color:#D4D4D4;">);</span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>当你<a href="#%E9%85%8D%E7%BD%AE">配置</a>了多个appId</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">alipay</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">alipayService</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getInstance</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;app1&#39;</span><span style="color:#D4D4D4;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></div><h3 id="exec-method-params-options" tabindex="-1"><a class="header-anchor" href="#exec-method-params-options" aria-hidden="true">#</a> exec(method, params, options)</h3><h4 id="必填参数-1" tabindex="-1"><a class="header-anchor" href="#必填参数-1" aria-hidden="true">#</a> 必填参数</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>method</td><td>String</td><td>调用的 Api，比如 <code>alipay.system.oauth.token</code></td></tr></tbody></table><h4 id="可选参数-1" tabindex="-1"><a class="header-anchor" href="#可选参数-1" aria-hidden="true">#</a> 可选参数</h4><h5 id="params" tabindex="-1"><a class="header-anchor" href="#params" aria-hidden="true">#</a> params</h5><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>params</td><td>Object</td><td>-</td><td>Api 的请求参数（包含“公共请求参数”和“业务参数”）</td></tr></tbody></table><h5 id="请求参数" tabindex="-1"><a class="header-anchor" href="#请求参数" aria-hidden="true">#</a> 请求参数</h5><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>bizContent</td><td>Object</td><td>-</td><td>仅当 Api 文档的“公共请求参数”列表中存在 <code>biz_content</code>时，才需要通过 bizContent 设置业务参数，否则应该通过 params 传参，<a href="#%E5%8C%85%E5%90%AB%E4%B8%9A%E5%8A%A1%E5%8F%82%E6%95%B0">业务参数 Demo</a>、<a href="#%E4%B8%8D%E5%8C%85%E5%90%AB%E4%B8%9A%E5%8A%A1%E5%8F%82%E6%95%B0">无业务参数 Demo</a></td></tr></tbody></table><h5 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> options</h5><table><thead><tr><th>参数</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>validateSign</td><td>Boolean</td><td>false</td><td>是否对返回值验签（依赖<a href="#%E9%85%8D%E7%BD%AE">配置</a>的<code>支付宝公钥</code>）</td></tr><tr><td>formData</td><td>Object</td><td>-</td><td>文件上传类接口的请求参数</td></tr><tr><td>log</td><td>Object</td><td></td><td>存在时会调用 info、error 方法写日志</td></tr></tbody></table><h3 id="checknotifysign-postdata" tabindex="-1"><a class="header-anchor" href="#checknotifysign-postdata" aria-hidden="true">#</a> checkNotifySign(postData)</h3><p>通知验签</p><h4 id="参数" tabindex="-1"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>postData</td><td>Object</td><td>验签参数（需要先把验签的字符串消息转换为 Object 对象）</td></tr></tbody></table><h2 id="demo" tabindex="-1"><a class="header-anchor" href="#demo" aria-hidden="true">#</a> Demo</h2><h3 id="包含业务参数" tabindex="-1"><a class="header-anchor" href="#包含业务参数" aria-hidden="true">#</a> 包含业务参数</h3>',28),b={class:"custom-container tip"},u=(0,l._)("p",{class:"custom-container-title"},"提示",-1),C=(0,l.Uk)("以“"),m={href:"https://opendocs.alipay.com/apis/api_1/alipay.trade.close",target:"_blank",rel:"noopener noreferrer"},E=(0,l.Uk)("统一收单交易关闭接口"),x=(0,l.Uk)("”为例，因为“公共请求参数”中包含 "),g=(0,l._)("code",null,"biz_content",-1),k=(0,l.Uk)(" 所以需要通过 "),A=(0,l._)("code",null,"bizContent",-1),F=(0,l.Uk)(" 传递文档下方的“请求参数”："),v=(0,l.uE)('<p><img src="/images/guide/includeBusinessParameters.png" alt="统一收单交易关闭接口详情"></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">result</span><span style="color:#D4D4D4;"> = </span><span style="color:#C586C0;">await</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">alipay</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">exec</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;alipay.trade.close&#39;</span><span style="color:#D4D4D4;">, {</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">notifyUrl:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;http://notify_url&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">appAuthToken:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">// 通过 bizContent 传递请求参数</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">bizContent:</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">tradeNo:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">outTradeNo:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">operatorId:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    },</span></span>\n<span class="line"><span style="color:#D4D4D4;">});</span></span>\n<span class="line"><span style="color:#6A9955;">// 从官方文档看到，result 包含 tradeNo、outTradeNo 2 个 key</span></span>\n<span class="line"><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;tradeNo: %s, outTradeNo: %s&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">result</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">tradeNo</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">result</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">outTradeNo</span><span style="color:#D4D4D4;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="不包含业务参数" tabindex="-1"><a class="header-anchor" href="#不包含业务参数" aria-hidden="true">#</a> 不包含业务参数</h3>',3),_={class:"custom-container tip"},f=(0,l._)("p",{class:"custom-container-title"},"提示",-1),z=(0,l.Uk)("以“"),B={href:"https://opendocs.alipay.com/apis/api_9/alipay.system.oauth.token",target:"_blank",rel:"noopener noreferrer"},S=(0,l.Uk)("换取授权访问令牌"),U=(0,l.Uk)("”为例，因为“公共请求参数”中不包含 "),I=(0,l._)("code",null,"biz_content",-1),N=(0,l.Uk)(" 所以参数需要直接放到 params 中："),j=(0,l.uE)('<p><img src="/images/guide/notIncludeBusinessParameters.png" alt="换取授权访问令牌详情"></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">result</span><span style="color:#D4D4D4;"> = </span><span style="color:#C586C0;">await</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">alipay</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">exec</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;alipay.system.oauth.token&#39;</span><span style="color:#D4D4D4;">, {</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">// 请求参数</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">grantType:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;authorization_code&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">code:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;code&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">refreshToken:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;token&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">});</span></span>\n<span class="line"><span style="color:#6A9955;">// result 为 API 介绍内容中 “响应参数” 对应的结果</span></span>\n<span class="line"><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">result</span><span style="color:#D4D4D4;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',2),w={},T=(0,n(3744).Z)(w,[["render",function(s,a){const n=(0,l.up)("OutboundLink"),w=(0,l.up)("CodeGroupItem"),T=(0,l.up)("CodeGroup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[e,(0,l._)("p",null,[p,(0,l._)("a",o,[t,(0,l.Wm)(n)]),r,c]),D,i,(0,l.Wm)(T,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{title:"YARN",active:""},{default:(0,l.w5)((()=>[d])),_:1}),(0,l.Wm)(w,{title:"NPM"},{default:(0,l.w5)((()=>[y])),_:1})])),_:1}),h,(0,l._)("div",b,[u,(0,l._)("p",null,[C,(0,l._)("a",m,[E,(0,l.Wm)(n)]),x,g,k,A,F])]),v,(0,l._)("div",_,[f,(0,l._)("p",null,[z,(0,l._)("a",B,[S,(0,l.Wm)(n)]),U,I,N])]),j],64)}]])},3744:(s,a)=>{a.Z=(s,a)=>{for(const[n,l]of a)s[n]=l;return s}}}]);