"use strict";(self.webpackChunkzerone_docs=self.webpackChunkzerone_docs||[]).push([[451],{9534:(s,n,a)=>{a.r(n),a.d(n,{data:()=>e});const e={key:"v-2d30e494",path:"/zh/guide/cli.html",title:"命令行接口",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"api",slug:"api",children:[]},{level:2,title:"info",slug:"info",children:[]},{level:2,title:"new",slug:"new",children:[]},{level:2,title:"generate",slug:"generate",children:[]},{level:2,title:"build",slug:"build",children:[]}],filePathRelative:"zh/guide/cli.md",git:{updatedTime:1708141383e3,contributors:[{name:"张智皓",email:"zhang948498@163.com",commits:5},{name:"zzh",email:"zhang948498@163.com",commits:4},{name:"“张智皓”",email:"zhang948498@163.com",commits:4},{name:"zzh948498",email:"35091020+zzh948498@users.noreply.github.com",commits:2}]}}},8535:(s,n,a)=>{a.r(n),a.d(n,{default:()=>A});var e=a(6252);const l=(0,e._)("h1",{id:"命令行接口",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#命令行接口","aria-hidden":"true"},"#"),(0,e.Uk)(" 命令行接口")],-1),p=(0,e.Uk)("Zerone 命令行接口是由 "),o={href:"https://www.npmjs.com/package/@zeronejs/cli",target:"_blank",rel:"noopener noreferrer"},r=(0,e.Uk)("@zeronejs/cli"),i=(0,e.Uk)(" 包提供的。"),c=(0,e.uE)('<div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">npm i -g @zeronejs/cli</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>执行 <code>zerone --help</code> 来获取下列帮助信息：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">Usage: zerone &lt;command&gt; [options]</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Options:</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -v, --version         Output the current version.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -h, --help            Output usage information.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Commands:</span></span>\n<span class="line"><span style="color:#D4D4D4;">  new|n [name]          Generate New Zerone application.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  build [options]       ts代码打包为js</span></span>\n<span class="line"><span style="color:#D4D4D4;">  info|i                Display Zerone project details.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  generate|g [options]  Generate a Zerone CRUD element</span></span>\n<span class="line"><span style="color:#D4D4D4;">  api                   Generate Swagger Api</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#DCDCAA;">help</span><span style="color:#D4D4D4;"> [command]        display </span><span style="color:#DCDCAA;">help</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">for</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">command</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> api</h2><p>读取 swagger(v3)的文档，生成前端相应的 ts/js 代码</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>如果您是前端开发者，这将很有帮助。</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">Usage: zerone api [options]</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Generate Swagger Api</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Options:</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -d, --delete       删除之前生成的代码.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -js, --javascript  生成js代码.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -p, --path &lt;path&gt;  指定 </span><span style="color:#CE9178;">&quot;swagger.config.json &quot;</span><span style="color:#D4D4D4;">文件夹的路径（相对于当前位置）</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -h, --help         Output usage information.</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><p><strong>步骤 1</strong>: 你需要在生成 api 的位置添加一个 <code>swagger.config.json</code> 配置文件</p><blockquote><p>配置示例</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;docsUrl&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;http://www.example.com/v3/api-docs&quot;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;includeTags&quot;</span><span style="color:#D4D4D4;">: [],</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;excludeTags&quot;</span><span style="color:#D4D4D4;">: [</span><span style="color:#CE9178;">&quot;bot-callback-controller&quot;</span><span style="color:#D4D4D4;">],</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;axiosInstanceUrl&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;@/utils/request&quot;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;prefix&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;&quot;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&quot;vueUseAxios&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">true</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote></li><li><p><strong>步骤 2</strong>: 运行命令</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">zerone api</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h5 id="参数说明" tabindex="-1"><a class="header-anchor" href="#参数说明" aria-hidden="true">#</a> 参数说明</h5>',10),t=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"参数"),(0,e._)("th",null,"说明")])],-1),u=(0,e._)("tr",null,[(0,e._)("td",null,"docsUrl"),(0,e._)("td",null,"json 文档地址")],-1),D=(0,e._)("tr",null,[(0,e._)("td",null,"includeTags"),(0,e._)("td",null,"要包含的 tags（不填或空数组表示全部包含）")],-1),d=(0,e._)("tr",null,[(0,e._)("td",null,"excludeTags"),(0,e._)("td",null,"要排除的 tags")],-1),b=(0,e._)("tr",null,[(0,e._)("td",null,"axiosInstanceUrl"),(0,e._)("td",null,"axios 实例地址 （默认：@/utils/request）")],-1),m=(0,e._)("tr",null,[(0,e._)("td",null,"prefix"),(0,e._)("td",null,"接口要添加的前缀")],-1),h=(0,e._)("td",null,"vueUseAxios",-1),y=(0,e.Uk)("同时生成 vueuse 中的 "),g={href:"https://vueuse.org/integrations/useAxios/",target:"_blank",rel:"noopener noreferrer"},v=(0,e.Uk)("useAxios"),f=(0,e.Uk)(" （需要安装"),E=(0,e._)("code",null,"@vueuse/integrations",-1),k=(0,e.Uk)("）"),_=(0,e.uE)('<h2 id="info" tabindex="-1"><a class="header-anchor" href="#info" aria-hidden="true">#</a> info</h2><p>输出当前系统和依赖相关的信息。</p><p>在你想要检查你的环境，或者提交 Issue 时候，可以使用该命令。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">zerone info</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="new" tabindex="-1"><a class="header-anchor" href="#new" aria-hidden="true">#</a> new</h2><p>新建一个 Zerone 项目。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">Usage: zerone new|n [options] [name]</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Generate New Zerone application.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Options:</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -h, --help  Output usage information.</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="generate" tabindex="-1"><a class="header-anchor" href="#generate" aria-hidden="true">#</a> generate</h2><p>通常，在开发过程中，我们每创建一个表都需要创建与之相关的 CRUD 接口或服务， 其中充斥着大量的 C / V 操作、创建多个 文件，这其中还有重命名等多个操作，既浪费时间，也不会有技术提升。</p><p>并且初级开发者在执行上述操作时，经常因复制或重命名等低级失误导致项目进度卡住。</p><p><code>generate</code>旨在帮助开发者降低重复工作量，帮您在一盏茶的功夫完成工作。并且程序生成的代码命名就是正确的，不会出现低级失误。</p>',11),C=(0,e._)("code",null,"generate",-1),q=(0,e.Uk)("会读取当前命令行目录下所有*.entity.ts 文件，并生成与之相关的 CRUD，您仅需写一个"),x={href:"https://typeorm.io/#/entities",target:"_blank",rel:"noopener noreferrer"},U=(0,e.Uk)("表结构"),z=(0,e.Uk)("。"),w=(0,e.uE)('<div class="custom-container tip"><p class="custom-container-title">提示</p><p>生成的 Module 类 需要导入到根模块。</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">Usage: zerone generate|g [options]</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Generate a Zerone CRUD element</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Options:</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -d, --delete       Delete files generated before this module.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -p, --path &lt;path&gt;  Specifies the path to the </span><span style="color:#CE9178;">&quot;entities&quot;</span><span style="color:#D4D4D4;"> folder (relative to the </span><span style="color:#DCDCAA;">command</span><span style="color:#D4D4D4;"> line).</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -h, --help         Output usage information.</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="build" tabindex="-1"><a class="header-anchor" href="#build" aria-hidden="true">#</a> build</h2><p>会编译打包项目中的 ts 文件，它与<code>tsc</code>的区别在于 可以复制其他文件 如：package.json 等</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>如果您是库开发者，这将很有帮助。</p><p>但在实际开发过程中，您可能不需要它，请使用<code>npm run build</code>。</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">Usage: zerone build [options]</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">ts代码打包为js</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">Options:</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -p, --path &lt;path&gt;  Specify the path of the folder where </span><span style="color:#CE9178;">&quot;tsconfig.json&quot;</span><span style="color:#D4D4D4;"> is located.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -d, --delete       Delete files specified by </span><span style="color:#CE9178;">&quot;outDir&quot;</span><span style="color:#D4D4D4;">.</span></span>\n<span class="line"><span style="color:#D4D4D4;">  -h, --help         Output usage information.</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',6),j={},A=(0,a(3744).Z)(j,[["render",function(s,n){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[l,(0,e._)("p",null,[p,(0,e._)("a",o,[r,(0,e.Wm)(a)]),i]),c,(0,e._)("table",null,[t,(0,e._)("tbody",null,[u,D,d,b,m,(0,e._)("tr",null,[h,(0,e._)("td",null,[y,(0,e._)("a",g,[v,(0,e.Wm)(a)]),f,E,k])])])]),_,(0,e._)("p",null,[C,q,(0,e._)("a",x,[U,(0,e.Wm)(a)]),z]),w],64)}]])},3744:(s,n)=>{n.Z=(s,n)=>{for(const[a,e]of n)s[a]=e;return s}}}]);